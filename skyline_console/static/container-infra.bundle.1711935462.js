(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1300:function(e,t,a){"use strict";var r=a(34),l=a(44),n=a(31),i=a(26),o=a(28),s=a(45),u=a(46),d=a(20),c=a(21);d(t,"__esModule",{value:!0}),t.default=t.ClusterTemplatesStore=void 0;var f,m=c(a(57)),v=c(a(31)),p=c(a(34)),h=c(a(164)),g=c(a(342)),_=c(a(94)),b=c(a(26)),k=c(a(36)),S=c(a(52)),y=c(a(54)),w=c(a(439)),x=c(a(53)),C=c(a(51)),N=a(35),E=a(163);function I(e,t){var a=r(e);if(l){var o=l(e);t&&(o=n(o).call(o,(function(t){return i(e,t).enumerable}))),a.push.apply(a,o)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a,r=null!=arguments[t]?arguments[t]:{};if(t%2)o(a=I(Object(r),!0)).call(a,(function(t){(0,k.default)(e,t,r[t])}));else if(s)u(e,s(r));else{var l;o(l=I(Object(r))).call(l,(function(t){d(e,t,i(r,t))}))}}return e}var T=(f=class extends x.default{get client(){return C.default.magnum.clusterTemplates}get flavorClient(){return C.default.nova.flavors}get networkClient(){return C.default.neutron.networks}get subnetClient(){return C.default.neutron.subnets}get imageClient(){return C.default.glance.images}get listWithDetail(){return!0}create(e){var t=this;return(0,S.default)((function*(){return t.submitting(t.client.create(e))}))()}delete(e){var t=this;return(0,S.default)((function*(){var{id:a}=e;return t.client.delete(a)}))()}update(e,t){var a=this;return(0,S.default)((function*(){var r,l,{id:n}=e,i=(0,m.default)(r=(0,v.default)(l=(0,p.default)(t)).call(l,(e=>{var a;return!((0,h.default)(a=["network_driver","external_network_id"]).call(a,e)&&!t[e])}))).call(r,(e=>{var a;return{path:"/".concat(e),value:"labels"===e?(0,g.default)(t[e]||{}):(0,w.default)(t[e])?"".concat(t[e]):t[e],op:(0,h.default)(a=[null,void 0,""]).call(a,t[e])?"remove":"replace"}}));return a.submitting(a.client.patch(n,i))}))()}get mapper(){return e=>L(L({},e),{},{id:e.uuid})}listDidFetch(e,t,a){var r=this;return(0,S.default)((function*(){if(!e.length)return e;var{shouldFetchProject:t}=a,l=yield r.listDidFetchProject(e,{all_projects:t}),{keypairs:n=[]}=(yield C.default.nova.keypairs.list())||{};return(0,m.default)(l).call(l,(e=>((0,_.default)(n).call(n,(t=>{var a;return(null==t||null===(a=t.keypair)||void 0===a?void 0:a.name)===e.keypair_id}))||(e.original_keypair_id=e.keypair_id,e.keypair_id=null),e)))}))()}detailDidFetch(e){var t=this;return(0,S.default)((function*(){var[a={},r={},l={},n={},i={},o={},s]=yield(0,E.allSettled)([C.default.nova.keypairs.list(),e.flavor_id?t.flavorClient.show(e.flavor_id):{},e.master_flavor_id?t.flavorClient.show(e.master_flavor_id):{},e.external_network_id?t.networkClient.show(e.external_network_id):{},e.fixed_network?t.networkClient.show(e.fixed_network):{},e.fixed_subnet?t.subnetClient.show(e.fixed_subnet):{},e.image_id?t.imageClient.show(e.image_id):{}]);if("fulfilled"===a.status){var{keypairs:u=[]}=a.value;(0,_.default)(u).call(u,(t=>{var a;return(null==t||null===(a=t.keypair)||void 0===a?void 0:a.name)===e.keypair_id}))||(e.original_keypair_id=e.keypair_id,e.keypair_id=null)}if("fulfilled"===r.status){var{flavor:d}=r.value;e.flavor=d}else e.original_flavor_id=e.flavor_id,e.flavor_id=null;if("fulfilled"===l.status){var{flavor:c}=l.value;e.masterFlavor=c}else e.original_master_flavor_id=e.master_flavor_id,e.master_flavor_id=null;if("fulfilled"===n.status){var{network:f}=n.value;e.externalNetwork=f}else e.original_external_network_id=e.external_network_id,e.external_network_id=null;if("fulfilled"===i.status){var{network:m}=i.value;e.fixedNetwork=m}else e.original_fixed_network=e.fixed_network,e.fixed_network=null;if("fulfilled"===o.status){var{subnet:v}=o.value;e.fixedSubnet=v}else e.original_fixed_subnet=e.fixed_subnet,e.fixed_subnet=null;return"fulfilled"===s.status?e.image=s.value:(e.original_image_id=e.image_id,e.image_id=null),e}))()}},(0,y.default)(f.prototype,"create",[N.action],(0,b.default)(f.prototype,"create"),f.prototype),(0,y.default)(f.prototype,"delete",[N.action],(0,b.default)(f.prototype,"delete"),f.prototype),(0,y.default)(f.prototype,"update",[N.action],(0,b.default)(f.prototype,"update"),f.prototype),f);t.ClusterTemplatesStore=T;var R=new T;t.default=R},1330:function(e,t,a){"use strict";var r=a(34),l=a(44),n=a(31),i=a(26),o=a(28),s=a(45),u=a(46),d=a(20),c=a(21);d(t,"__esModule",{value:!0}),t.default=t.ClustersStore=void 0;var f,m=c(a(57)),v=c(a(94)),p=c(a(26)),h=c(a(36)),g=c(a(52)),_=c(a(54)),b=c(a(53)),k=c(a(51)),S=a(35),y=a(163);function w(e,t){var a=r(e);if(l){var o=l(e);t&&(o=n(o).call(o,(function(t){return i(e,t).enumerable}))),a.push.apply(a,o)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a,r=null!=arguments[t]?arguments[t]:{};if(t%2)o(a=w(Object(r),!0)).call(a,(function(t){(0,h.default)(e,t,r[t])}));else if(s)u(e,s(r));else{var l;o(l=w(Object(r))).call(l,(function(t){d(e,t,i(r,t))}))}}return e}var C=(f=class extends b.default{get client(){return k.default.magnum.clusters}get templateClient(){return k.default.magnum.clusterTemplates}get flavorClient(){return k.default.nova.flavors}get networkClient(){return k.default.neutron.networks}get subnetClient(){return k.default.neutron.subnets}get stackClient(){return k.default.heat.stacks}get listWithDetail(){return!0}create(e){var t=this;return(0,g.default)((function*(){return t.submitting(t.client.create(e))}))()}delete(e){var t=this;return(0,g.default)((function*(){var{id:a}=e;return t.client.delete(a)}))()}resize(e,t){var a=this;return(0,g.default)((function*(){var{id:r}=e;return a.client.resize(r,t,null,{headers:{"OpenStack-API-Version":"container-infra latest"}})}))()}upgrade(e,t){var a=this;return(0,g.default)((function*(){var{id:r}=e;return a.client.upgrade(r,t)}))()}listDidFetch(e,t,a){var r=this;return(0,g.default)((function*(){if(!e.length)return e;var{shouldFetchProject:t}=a,l=yield r.listDidFetchProject(e,{all_projects:t}),{keypairs:n=[]}=(yield k.default.nova.keypairs.list())||{};return(0,m.default)(l).call(l,(e=>((0,v.default)(n).call(n,(t=>{var a;return(null==t||null===(a=t.keypair)||void 0===a?void 0:a.name)===e.keypair}))||(e.original_keypair=e.keypair,e.keypair=null),e)))}))()}detailDidFetch(e){var t=this;return(0,g.default)((function*(){var a=(yield t.templateClient.show(e.cluster_template_id))||{};e.template=a;var{flavor_id:r,master_flavor_id:l,fixed_network:n,fixed_subnet:i}=a,o=e.flavor_id||r,s=e.master_flavor_id||l,u=e.fixed_network||n,d=e.fixed_subnet||i,[c={},f={},m={},p={},h={},g]=yield(0,y.allSettled)([k.default.nova.keypairs.list(),o?t.flavorClient.show(o):{},s?t.flavorClient.show(s):{},u?t.networkClient.show(u):{},d?t.subnetClient.show(d):{},e.stack_id?t.stackClient.list({id:e.stack_id}):{}]);if("fulfilled"===c.status){var{keypairs:_=[]}=c.value;(0,v.default)(_).call(_,(t=>{var a;return(null==t||null===(a=t.keypair)||void 0===a?void 0:a.name)===e.keypair}))||(e.original_keypair=e.keypair,e.keypair=null)}if("fulfilled"===f.status){var{flavor:b}=f.value;e.flavor=b}else e.original_flavor_id=e.flavor_id,e.flavor_id=null;if("fulfilled"===m.status){var{flavor:S}=m.value;e.masterFlavor=S}else e.original_master_flavor_id=e.master_flavor_id,e.master_flavor_id=null;if("fulfilled"===p.status){var{network:w}=p.value;e.fixedNetwork=w}else e.original_fixed_network=e.fixed_network,e.fixed_network=null;if("fulfilled"===h.status){var{subnet:x}=h.value;e.fixedSubnet=x}else e.original_fixed_subnet=e.fixed_subnet,e.fixed_subnet=null;if("fulfilled"===g.status){var{stacks:C=[]}=g.value;C[0]&&(e.stack=C[0])}return e}))()}get mapper(){return e=>x(x({},e),{},{id:e.uuid})}},(0,_.default)(f.prototype,"create",[S.action],(0,p.default)(f.prototype,"create"),f.prototype),(0,_.default)(f.prototype,"delete",[S.action],(0,p.default)(f.prototype,"delete"),f.prototype),(0,_.default)(f.prototype,"resize",[S.action],(0,p.default)(f.prototype,"resize"),f.prototype),f);t.ClustersStore=C;var N=new C;t.default=N},1409:function(e,a,r){"use strict";r(20)(a,"__esModule",{value:!0}),a.defaultTip=a.healthStatus=a.clusterStatus=void 0;var l={CREATE_IN_PROGRESS:t("CREATE IN PROGRESS"),CREATE_COMPLETE:t("CREATE COMPLETE"),CREATE_FAILED:t("CREATE FAILED"),UPDATE_IN_PROGRESS:t("UPDATE IN PROGRESS"),UPDATE_COMPLETE:t("UPDATE COMPLETE"),UPDATE_FAILED:t("UPDATE FAILED"),DELETE_IN_PROGRESS:t("DELETE_IN PROGRESS"),DELETE_COMPLETE:t("DELETE COMPLETE"),DELETE_FAILED:t("DELETE FAILED"),RESUME_COMPLETE:t("RESUME COMPLETE"),RESUME_FAILED:t("RESUME FAILED"),RESTORE_COMPLETE:t("RESTORE COMPLETE"),ROLLBACK_IN_PROGRESS:t("ROLLBACK IN PROGRESS"),ROLLBACK_COMPLETE:t("ROLLBACK COMPLETE"),ROLLBACK_FAILED:t("ROLLBACK FAILED"),SNAPSHOT_COMPLETE:t("SNAPSHOT COMPLETE"),CHECK_COMPLETE:t("CHECK COMPLETE"),ADOPT_COMPLETE:t("ADOPT COMPLETE")};a.clusterStatus=l;var n={HEALTHY:t("HEALTHY"),UNHEALTHY:t("UNHEALTHY"),UNKNOWN:t("UNKNOWN")};a.healthStatus=n;var i=t("If itâ€™s not set, the value of this in the template will be used.");a.defaultTip=i},1410:function(e,a,r){"use strict";r(20)(a,"__esModule",{value:!0}),a.getBaseSimpleFlavorColumns=a.getBaseTemplateColumns=void 0;var l=r(1254),n=r(163);a.getBaseTemplateColumns=e=>[{title:t("ID/Name"),dataIndex:"name",routeName:e.getRouteName("containerInfraClusterTemplateDetail")},{title:t("Project ID/Name"),dataIndex:"project_name",isHideable:!0,hidden:!e.isAdminPage},{title:t("COE"),isHideable:!0,dataIndex:"coe"},{title:t("Network Driver"),isHideable:!0,dataIndex:"network_driver"},{title:t("Keypair"),isHideable:!0,dataIndex:"keypair_id",hidden:e.isAdminPage,render:t=>t?e.getLinkRender("keypairDetail",t,{id:t}):t||"-"}];a.getBaseSimpleFlavorColumns=e=>[{title:t("ID/Name"),dataIndex:"name",routeName:e?e.getRouteName("flavorDetail"):""},{title:t("Architecture"),dataIndex:"architecture",valueMap:l.flavorArchitectures},{title:t("Category"),dataIndex:"category",render:e=>l.flavorCategoryList[e]||e||"-"},{title:t("CPU"),dataIndex:"vcpus",isHideable:!0},{title:t("Memory"),dataIndex:"ram",isHideable:!0,render:e=>(0,n.formatSize)(e,2)}]},1470:function(e,a,r){"use strict";var l=r(34),n=r(44),i=r(31),o=r(26),s=r(28),u=r(45),d=r(46),c=r(20),f=r(21);c(a,"__esModule",{value:!0}),a.default=a.StepCreate=void 0;var m=f(r(28)),v=f(r(67)),p=f(r(94));r(1343);var h=f(r(428)),g=f(r(52)),_=f(r(58)),b=f(r(36)),k=r(411),S=r(35),y=r(1234),w=f(r(1330)),x=f(r(412)),C=f(r(1251)),N=r(163),E=(r(161),f(r(4261))),I=f(r(4262)),L=f(r(4263)),T=f(r(4264)),R=f(r(4265));function D(e,t){var a=l(e);if(n){var r=n(e);t&&(r=i(r).call(r,(function(t){return o(e,t).enumerable}))),a.push.apply(a,r)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a,r=null!=arguments[t]?arguments[t]:{};if(t%2)s(a=D(Object(r),!0)).call(a,(function(t){(0,b.default)(e,t,r[t])}));else if(u)d(e,u(r));else{var l;s(l=D(Object(r))).call(l,(function(t){c(e,t,o(r,t))}))}}return e}class A extends y.StepAction{constructor(){super(...arguments),(0,b.default)(this,"onSubmit",(e=>{var{additionalLabels:t,clusterTemplate:a,keypair:r,auto_healing_enabled:l,auto_scaling_enabled:n,newNetwork:i,fixedNetwork:o,fixedSubnet:s,flavor:u,masterFlavor:d}=e,c=(0,_.default)(e,["additionalLabels","clusterTemplate","keypair","auto_healing_enabled","auto_scaling_enabled","newNetwork","fixedNetwork","fixedSubnet","flavor","masterFlavor"]),f={};t&&(0,m.default)(t).call(t,(e=>{var t=e.value.key,a=e.value.value;f[t]=a}));var v=P(P({},c),{},{name:e.name,labels:P(P({},f),{},{auto_healing_enabled:"".concat(!!l),auto_scaling_enabled:"".concat(!!n)}),cluster_template_id:a.selectedRowKeys[0],keypair:r&&r.selectedRowKeys[0]||null,master_flavor_id:d&&d.selectedRowKeys[0]||null,flavor_id:u&&u.selectedRowKeys[0]||null,fixed_network:!i&&o.selectedRowKeys[0]||null,fixed_subnet:!i&&s.selectedRowKeys[0]||null});return this.store.create(v)}))}init(){this.store=w.default,this.projectStore=x.default,this.state.quotaLoading=!0,this.getQuota(),this.errorMsg=""}static allowed(){return v.default.resolve(!0)}get name(){return t("Create Cluster")}get listUrl(){return this.getRoutePath("containerInfraClusters")}get hasConfirmStep(){return!1}get steps(){return[{title:t("Cluster Info"),component:E.default},{title:t("Node Spec"),component:I.default},{title:t("Network Setting"),component:L.default},{title:t("Management"),component:T.default},{title:t("Additional Labels"),component:R.default}]}get enableCinder(){return this.props.rootStore.checkEndpoint("cinder")}get flavors(){return(0,S.toJS)(C.default.list.data)||[]}get showQuota(){return!0}getQuota(){var e=this;return(0,g.default)((function*(){e.setState({quotaLoading:!0}),yield v.default.all([e.projectStore.fetchProjectNovaQuota(),e.projectStore.fetchProjectMagnumQuota(),e.enableCinder?e.projectStore.fetchProjectCinderQuota():null]),e.setState({quotaLoading:!1})}))()}get disableNext(){return!!this.errorMsg}get disableSubmit(){return!!this.errorMsg}get quotaInfo(){var{quotaLoading:e}=this.state;if(e)return[];var a=this.checkQuotaInput(),{magnum_cluster:r={}}=(0,S.toJS)(this.projectStore.magnumQuota)||{},l=P(P({},r),{},{add:a?0:1,name:"cluster",title:t("Clusters")}),{newNodes:n}=this.getNodesInput(),{instances:i={},cores:o={},ram:s={}}=(0,S.toJS)(this.projectStore.novaQuota)||{},u=P(P({},i),{},{add:a?0:n,name:"instance",title:t("Instance"),type:"line"}),{newCPU:d,newRam:c}=this.getFlavorInput(),f=P(P({},o),{},{add:a?0:d,name:"cpu",title:t("CPU"),type:"line"}),m=P(P({},s),{},{add:a?0:c,name:"ram",title:t("Memory (GiB)"),type:"line"}),{volumes:v}=(0,S.toJS)(this.projectStore.cinderQuota)||{};return[l,u,f,m,P(P({},v),{},{add:a?0:n,name:"volume",title:t("Volume"),type:"line"})]}checkClusterQuota(){var{quotaLoading:e}=this.state;if(e)return"";var{magnum_cluster:a={}}=(0,S.toJS)(this.projectStore.magnumQuota)||{},{left:r=0}=a;return 0===r?this.getQuotaMessage(1,a,t("Clusters")):""}getNodesInput(){var{data:e={}}=this.state,{node_count:t=0,master_count:a=0}=e;return{newNodes:t+a}}checkInstanceQuota(){var{quotaLoading:e}=this.state;if(e)return"";var{newNodes:a}=this.getNodesInput(),{instances:r={}}=this.projectStore.novaQuota||{},{left:l=0}=r;return-1!==l&&l<a?this.getQuotaMessage(a,r,t("Instance")):""}get templateFlavor(){var e,t,{data:a={}}=this.state,{clusterTemplate:{selectedRows:r=[]}={}}=a,{master_flavor_id:l,flavor_id:n}=r[0]||{};return{masterTemplateFlavor:(0,p.default)(e=this.flavors).call(e,(e=>e.id===l)),workTemplateFlavor:(0,p.default)(t=this.flavors).call(t,(e=>e.id===n))}}getFlavorInput(){var{data:e={}}=this.state,{flavor:{selectedRows:t=[]}={},node_count:a=1,masterFlavor:{selectedRows:r=[]}={},master_count:l=1}=e,{vcpus:n=0,ram:i=0}=t[0]||this.templateFlavor.workTemplateFlavor||{},o=(0,N.getGiBValue)(i),{vcpus:s=0,ram:u=0}=r[0]||this.templateFlavor.masterTemplateFlavor||{};return{newCPU:n*a+s*l,newRam:o*a+(0,N.getGiBValue)(u)*l}}checkFlavorQuota(){var{newCPU:e,newRam:a}=this.getFlavorInput(),{cores:r={},ram:l={}}=this.projectStore.novaQuota||{},{left:n=0}=r||{},{left:i=0}=l||{};return-1!==n&&n<e?this.getQuotaMessage(e,r,t("CPU")):-1!==i&&i<a?this.getQuotaMessage(a,l,t("Memory")):""}checkVolumeQuota(){var{quotaLoading:e}=this.state;if(e)return"";var{newNodes:a}=this.getNodesInput(),{volumes:r}=(0,S.toJS)(this.projectStore.cinderQuota)||{},{left:l=0}=r;return-1!==l&&l<a?this.getQuotaMessage(a,r,t("Volume")):""}checkQuotaInput(){var e=this.checkClusterQuota(),t=this.checkInstanceQuota(),a=this.checkFlavorQuota(),r=this.checkVolumeQuota(),l=e||t||a||r;return l?(this.status="error",this.errorMsg!==l&&h.default.error(l),this.errorMsg=l,l):(this.status="success",this.errorMsg="","")}getQuotaMessage(e,a,r){var{left:l=0}=a||{};return-1===l?"":e>l?t("Insufficient {name} quota to create resources (left { quota }, input { input }).",{name:r,quota:l,input:e}):""}}a.StepCreate=A,(0,b.default)(A,"id","create-cluster"),(0,b.default)(A,"title",t("Create Cluster")),(0,b.default)(A,"path","/container-infra/clusters/create"),(0,b.default)(A,"policy","cluster:create");var F=(0,k.inject)("rootStore")((0,k.observer)(A));a.default=F},1471:function(e,a,r){"use strict";var l=r(34),n=r(44),i=r(31),o=r(26),s=r(28),u=r(45),d=r(46),c=r(20),f=r(21);c(a,"__esModule",{value:!0}),a.default=a.StepCreate=void 0;var m=f(r(28)),v=f(r(67)),p=f(r(164)),h=f(r(52)),g=f(r(58)),_=f(r(36)),b=r(411),k=r(1234),S=f(r(1300)),y=r(35),w=f(r(4270)),x=f(r(4271)),C=f(r(4272)),N=f(r(4273));function E(e,t){var a=l(e);if(n){var r=n(e);t&&(r=i(r).call(r,(function(t){return o(e,t).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a,r=null!=arguments[t]?arguments[t]:{};if(t%2)s(a=E(Object(r),!0)).call(a,(function(t){(0,_.default)(e,t,r[t])}));else if(u)d(e,u(r));else{var l;s(l=E(Object(r))).call(l,(function(t){c(e,t,o(r,t))}))}}return e}class L extends k.StepAction{constructor(){super(...arguments),(0,_.default)(this,"onSubmit",(e=>{var{flavor:t,masterFlavor:a,additionalLabels:r,images:l,keypair:n,externalNetwork:i,fixedNetwork:o,fixedSubnet:s}=e,u=(0,g.default)(e,["flavor","masterFlavor","additionalLabels","images","keypair","externalNetwork","fixedNetwork","fixedSubnet"]),d={};r&&(0,m.default)(r).call(r,(e=>{var t=e.value.key,a=e.value.value;d[t]=a}));var c=I(I({},u),{},{labels:d,external_network_id:i.selectedRowKeys[0],fixed_network:o&&o.selectedRowKeys[0]||null,fixed_subnet:s&&s.selectedRowKeys[0]||null,flavor_id:t&&t.selectedRowKeys[0]||null,master_flavor_id:a&&a.selectedRowKeys[0]||null,image_id:l&&l.selectedRowKeys[0]||null,keypair_id:n&&n.selectedRowKeys[0]||null});return this.isEdit?this.store.update({id:this.params.id},c):this.store.create(c)}))}init(){this.store=S.default,this.getDetail()}static allowed(){return v.default.resolve(!0)}get name(){return t("Create Cluster Template")}get listUrl(){return this.getRoutePath("clusterTemplate")}get isEdit(){var e;return(0,p.default)(e=this.path).call(e,"update")}get hasExtraProps(){return this.isEdit}get hasConfirmStep(){return!1}get params(){var{id:e}=this.props.match.params;return{id:e}}getDetail(){var e=this;return(0,h.default)((function*(){if(e.isEdit){var t=yield S.default.fetchDetail(e.params);e.setState({extra:(0,y.toJS)(t)})}}))()}get steps(){return[{title:t("Cluster Info"),component:w.default},{title:t("Node Spec"),component:x.default},{title:t("Network Setting"),component:C.default},{title:t("Additional Labels"),component:N.default}]}}a.StepCreate=L,(0,_.default)(L,"id","create-cluster-template"),(0,_.default)(L,"title",t("Create Cluster Template")),(0,_.default)(L,"path","/container-infra/cluster-template/create"),(0,_.default)(L,"policy","clustertemplate:create");var T=(0,b.inject)("rootStore")((0,b.observer)(L));a.default=T},1666:function(e,t,a){"use strict";var r=a(20),l=a(21);r(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(4259)),i=l(a(4260)),o=l(a(1470)),s={actionConfigs:{rowActions:{firstAction:n.default,moreActions:[{action:i.default}]},batchActions:[n.default],primaryActions:[o.default]},actionConfigsAdmin:{rowActions:{firstAction:n.default,moreActions:[]},batchActions:[n.default],primaryActions:[]}};t.default=s},1667:function(e,t,a){"use strict";var r=a(20),l=a(21);r(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(1471)),i=l(a(4274)),o=l(a(1668)),s=l(a(4275)),u={actionConfigs:{rowActions:{firstAction:i.default,moreActions:[{action:o.default},{action:s.default}]},batchActions:[i.default],primaryActions:[n.default]},actionConfigsAdmin:{rowActions:{firstAction:i.default,moreActions:[]},batchActions:[i.default],primaryActions:[]}};t.default=u},1668:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=a.Edit=void 0;var i=n(r(67)),o=n(r(36)),s=r(411),u=r(567),d=r(1471);class c extends d.StepCreate{get name(){return t("Update Cluster Template")}get listUrl(){return this.getRoutePath("clusterTemplate")}static allowed(){return i.default.resolve(!0)}}a.Edit=c,(0,o.default)(c,"id","update-cluster-template"),(0,o.default)(c,"title",t("Edit")),(0,o.default)(c,"policy","clustertemplate:update"),(0,o.default)(c,"path",(e=>{var{id:t}=e;return(0,u.getPath)({key:"containerInfraUpdateClusterTemplate",params:{id:t}})}));var f=(0,s.inject)("rootStore")((0,s.observer)(c));a.default=f},4255:function(e,t,a){"use strict";var r=a(20),l=a(21);r(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(416)),i=l(a(4256)),o=e=>(0,n.default)(i.default,e);t.default=o},4256:function(e,t,a){"use strict";var r=a(20),l=a(21);r(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a(1253)),i=l(a(578)),o=l(a(4257)),s=l(a(4266)),u=l(a(4268)),d=l(a(4276)),c=l(a(1470)),f=l(a(1471)),m=l(a(1668)),v="/container-infra",p=[{path:v,component:n.default,routes:[{path:"".concat(v,"/clusters"),component:o.default,exact:!0},{path:"".concat(v,"/clusters/detail/:id"),component:s.default,exact:!0},{path:"".concat(v,"/clusters/create"),component:c.default,exact:!0},{path:"".concat(v,"/clusters-admin"),component:o.default,exact:!0},{path:"".concat(v,"/clusters-admin/detail/:id"),component:s.default,exact:!0},{path:"".concat(v,"/cluster-template"),component:u.default,exact:!0},{path:"".concat(v,"/cluster-template/detail/:id"),component:d.default,exact:!0},{path:"".concat(v,"/cluster-template/create"),component:f.default,exact:!0},{path:"".concat(v,"/cluster-template/update/:id"),component:m.default,exact:!0},{path:"".concat(v,"/cluster-template-admin"),component:u.default,exact:!0},{path:"".concat(v,"/cluster-template-admin/detail/:id"),component:d.default,exact:!0},{path:"*",component:i.default}]}];t.default=p},4257:function(e,a,r){"use strict";var l=r(34),n=r(44),i=r(31),o=r(26),s=r(28),u=r(45),d=r(46),c=r(20),f=r(21);c(a,"__esModule",{value:!0}),a.default=a.Clusters=void 0;var m=f(r(36)),v=f(r(1235)),p=r(411),h=r(163),g=r(1409),_=r(1330),b=r(4258),k=f(r(1666));function S(e,t){var a=l(e);if(n){var r=n(e);t&&(r=i(r).call(r,(function(t){return o(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a,r=null!=arguments[t]?arguments[t]:{};if(t%2)s(a=S(Object(r),!0)).call(a,(function(t){(0,m.default)(e,t,r[t])}));else if(u)d(e,u(r));else{var l;s(l=S(Object(r))).call(l,(function(t){c(e,t,o(r,t))}))}}return e}class w extends v.default{constructor(){super(...arguments),(0,m.default)(this,"updateFetchParams",(e=>y(y({},e),{},{shouldFetchProject:this.isAdminPage})))}init(){this.isAdminPage?this.store=new b.ClustersAdminStore:this.store=new _.ClustersStore}get name(){return t("clusters")}get policy(){return"cluster:get_all"}get fetchDataByAllProjects(){return!1}get actionConfigs(){return this.isAdminPage?k.default.actionConfigsAdmin:k.default.actionConfigs}getColumns(){return[{title:t("ID/Name"),dataIndex:"name",routeName:this.getRouteName("containerInfraClusterDetail")},{title:t("Status"),isHideable:!0,dataIndex:"status",valueMap:g.clusterStatus},{title:t("Health Status"),isHideable:!0,dataIndex:"health_status",render:e=>g.healthStatus[e]||e||"-",isStatus:!1},{title:t("Keypair"),isHideable:!0,dataIndex:"keypair",hidden:this.isAdminPage,render:e=>e?this.getLinkRender("keypairDetail",e,{id:e}):"-"}]}get searchFilters(){return[{label:t("Name"),name:"name"},{label:t("Status"),name:"status",options:(0,h.getOptions)(g.clusterStatus)},{label:t("Health Status"),name:"health_status",options:(0,h.getOptions)(g.healthStatus)}]}}a.Clusters=w;var x=(0,p.inject)("rootStore")((0,p.observer)(w));a.default=x},4258:function(e,t,a){"use strict";a(20)(t,"__esModule",{value:!0}),t.default=t.ClustersAdminStore=void 0;var r=a(1330);class l extends r.ClustersStore{get listWithDetail(){return!1}}t.ClustersAdminStore=l;var n=new l;t.default=n},4259:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=void 0;var i=n(r(36)),o=r(1234),s=n(r(1330));class u extends o.ConfirmAction{constructor(){super(...arguments),(0,i.default)(this,"policy","cluster:delete"),(0,i.default)(this,"allowedCheckFunc",(e=>{var{stack_id:t,status:a}=e;return!("DELETE_IN_PROGRESS"===a||"CREATE_IN_PROGRESS"===a&&!t)})),(0,i.default)(this,"onSubmit",(e=>s.default.delete({id:e.id})))}get id(){return"delete"}get title(){return t("Delete Cluster")}get actionName(){return t("Delete Cluster")}get buttonText(){return t("Delete")}get isDanger(){return!0}}a.default=u},4260:function(e,a,r){"use strict";var l=r(34),n=r(44),i=r(31),o=r(26),s=r(28),u=r(45),d=r(46),c=r(20),f=r(21);c(a,"__esModule",{value:!0}),a.default=a.Resize=void 0;var m=f(r(67)),v=f(r(164)),p=f(r(52)),h=f(r(36)),g=r(411),_=r(35),b=r(1234),k=f(r(1330)),S=f(r(412));function y(e,t){var a=l(e);if(n){var r=n(e);t&&(r=i(r).call(r,(function(t){return o(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a,r=null!=arguments[t]?arguments[t]:{};if(t%2)s(a=y(Object(r),!0)).call(a,(function(t){(0,h.default)(e,t,r[t])}));else if(u)d(e,u(r));else{var l;s(l=y(Object(r))).call(l,(function(t){c(e,t,o(r,t))}))}}return e}class x extends b.ModalAction{constructor(){super(...arguments),(0,h.default)(this,"onSubmit",(e=>{var{changed_node_count:t,nodes_to_remove:a}=e,r={node_count:t,nodes_to_remove:[]};return a&&(r.nodes_to_remove=a.split(",")),this.store.resize({id:this.item.id},r)}))}init(){this.store=k.default,this.projectStore=S.default,this.state.quotaLoading=!0,this.getQuota()}static get modalSize(){return"middle"}getModalSize(){return"middle"}static allowed(e){var{status:t}=e;return m.default.resolve((0,v.default)(t).call(t,"COMPLETE"))}get name(){return t("Resize Cluster")}get maxSize(){var{node_count:e=0}=this.item,{instances:{left:t=0}={}}=(0,_.toJS)(this.projectStore.novaQuota)||{};return-1===t?null:t+e}get showQuota(){return!0}getQuota(){var e=this;return(0,p.default)((function*(){e.setState({quotaLoading:!0}),yield e.projectStore.fetchProjectNovaQuota(),e.setState({quotaLoading:!1})}))()}get quotaInfo(){var{quotaLoading:e}=this.state;if(e)return[];var{newNodes:a}=this.getNodesInput(),{instances:r={}}=(0,_.toJS)(this.projectStore.novaQuota)||{},{left:l}=r;return[w(w({},r),{},{add:0===l?0:a,name:"instance",title:t("Instance")})]}getNodesInput(){var{node_count:e=0}=this.item,{changed_node_count:t=0}=this.state,a=t-e;return{newNodes:a>0?a:0}}get defaultValue(){var{node_count:e=0,master_count:t=0}=this.item;return{current_master_node_count:t,current_node_count:e,changed_node_count:e+1}}get nameForStateUpdate(){return["changed_node_count"]}get formItems(){var{changed_node_count:e}=this.state,{node_count:a=0}=this.item;return[{name:"current_master_node_count",label:t("Current Master Node Count"),type:"label"},{name:"current_node_count",label:t("Current Node Count"),type:"label"},{name:"changed_node_count",label:t("Changed Node Count"),type:"input-int",min:1,max:this.maxSize,required:!0,validator:(e,r)=>r===a?m.default.reject(new Error(t("The changed node count can not be equal to the current value"))):m.default.resolve()},{name:"nodes_to_remove",label:t("Nodes To Remove"),type:"textarea",placeholder:t('Please enter the server id to be reduced, and separate different id with ","'),validator:(e,a)=>a&&!/^[0-9a-zA-Z]+([0-9a-zA-Z,-][0-9a-zA-Z]+)*$/.test(a)?m.default.reject(new Error(t("Please enter the correct id"))):m.default.resolve(),display:e<a}]}}a.Resize=x,(0,h.default)(x,"id","resize-cluster"),(0,h.default)(x,"title",t("Resize Cluster")),(0,h.default)(x,"policy","cluster:resize");var C=(0,g.inject)("rootStore")((0,g.observer)(x));a.default=C},4261:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=a.StepInfo=void 0;var i=n(r(67)),o=n(r(31)),s=n(r(52)),u=n(r(36)),d=n(r(1243)),c=r(411),f=n(r(1300)),m=r(1410);class v extends d.default{constructor(){super(...arguments),(0,u.default)(this,"clusterNameValidator",((e,a)=>a?/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(a)?i.default.resolve():i.default.reject(t('The name should start with upper letter or lower letter, characters can only contain "0-9, a-z, A-Z, -, _, ."')):i.default.reject("")))}init(){this.getClustertemplates()}get title(){return t("Info")}get name(){return t("Info")}getClustertemplates(){var e=this;return(0,s.default)((function*(){yield f.default.fetchList(),e.updateDefaultValue()}))()}get clusterTemplates(){var e=f.default.list.data||[],{template:t}=this.locationParams;return t?(0,o.default)(e).call(e,(e=>e.uuid===t)):e}get defaultValue(){var e={},{template:t}=this.locationParams;return t&&(e.clusterTemplate={selectedRowKeys:[t],selectedRows:this.clusterTemplates}),e}get formItems(){return[{name:"name",label:t("Cluster Name"),type:"input",placeholder:t("Please input cluster name"),required:!0,validator:this.clusterNameValidator},{name:"clusterTemplate",label:t("Cluster Template"),type:"select-table",data:this.clusterTemplates,isLoading:f.default.list.isLoading,required:!0,filterParams:[{label:t("Name"),name:"name"}],columns:(0,m.getBaseTemplateColumns)(this),onChange:e=>{this.updateContext({clusterTemplate:e})}}]}}a.StepInfo=v;var p=(0,c.inject)("rootStore")((0,c.observer)(v));a.default=p},4262:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=a.StepNodeSpec=void 0;var i=n(r(67)),o=n(r(31)),s=n(r(52)),u=n(r(36)),d=r(411),c=r(35),f=n(r(1243)),m=n(r(423)),v=r(1251),p=r(1300),h=r(1409),g=r(1448),_=r(1410),b=r(163);class k extends f.default{constructor(){super(...arguments),(0,u.default)(this,"allowed",(()=>i.default.resolve()))}init(){this.keyPairStore=m.default,this.flavorStore=new v.FlavorStore,this.masterFlavorStore=new v.FlavorStore,this.templateStore=new p.ClusterTemplatesStore,this.getAllInitFunctions()}get title(){return t("Node Spec")}get name(){return t("Node Spec")}getAllInitFunctions(){var e=this;return(0,s.default)((function*(){yield(0,b.allSettled)([e.getKeypairs(),e.getFlavors(),e.getMasterFlavors(),e.getTemplateDetail()]),e.updateDefaultValue()}))()}getKeypairs(){return this.keyPairStore.fetchList()}get keypairs(){return this.keyPairStore.list.data||[]}getFlavors(){return this.flavorStore.fetchList()}getMasterFlavors(){return this.masterFlavorStore.fetchList()}get flavors(){return(0,c.toJS)(this.flavorStore.list.data)||[]}get masterFlavors(){return(0,c.toJS)(this.masterFlavorStore.list.data)||[]}getTemplateDetail(){var{context:{clusterTemplate:e={}}={}}=this.props,{selectedRowKeys:t=[]}=e,a=t[0];if(a)return this.templateStore.fetchDetail({id:a})}get templateDetail(){return(0,c.toJS)(this.templateStore.detail)||{}}get defaultValue(){var e,t,a,{context:{keypair:r,masterFlavor:l,flavor:n,master_count:i,node_count:s}={}}=this.props,{master_flavor_id:u,flavor_id:d,keypair_id:c}=this.templateDetail;return{master_count:i||1,node_count:s||1,masterFlavor:l||{selectedRowKeys:u?[u]:[],selectedRows:(0,o.default)(e=this.masterFlavors).call(e,(e=>e.id===u))},flavor:n||{selectedRowKeys:d?[d]:[],selectedRows:(0,o.default)(t=this.flavors).call(t,(e=>e.id===d))},keypair:r||{selectedRowKeys:c?[c]:[],selectedRows:(0,o.default)(a=this.keypairs).call(a,(e=>e.id===c))}}}get formItems(){var e,a,r,{context:{clusterTemplate:l={},keypair:n,masterFlavor:i,flavor:s}={}}=this.props,{selectedRows:u=[]}=l,{master_flavor_id:d,flavor_id:c,keypair_id:f}=u[0]||{},{initKeyPair:m=n}=this.state,v={selectedRowKeys:f?[f]:[],selectedRows:(0,o.default)(e=this.keypairs).call(e,(e=>e.id===f))},p=s||{selectedRowKeys:c?[c]:[],selectedRows:(0,o.default)(a=this.flavors).call(a,(e=>e.id===c))},b=i||{selectedRowKeys:d?[d]:[],selectedRows:(0,o.default)(r=this.masterFlavors).call(r,(e=>e.id===d))};return[{name:"keypair",label:t("Keypair"),type:"select-table",required:!0,data:this.keypairs,initValue:m||v,isLoading:this.keyPairStore.list.isLoading,header:(0,g.getKeyPairHeader)(this),tip:t("The SSH key is a way to remotely log in to the cluster instance. If itâ€™s not set, the value of this in the template will be used."),filterParams:[{label:t("Name"),name:"name"}],columns:[{title:t("Name"),dataIndex:"name"},{title:t("Fingerprint"),dataIndex:"fingerprint"}]},{name:"master_count",label:t("Number of Master Nodes"),type:"input-int",min:1,required:!0,onChange:e=>{this.updateContext({master_count:e})}},{name:"masterFlavor",label:t("Flavor of Master Nodes"),type:"select-table",required:!0,tip:h.defaultTip,data:this.masterFlavors,initValue:b,columns:(0,_.getBaseSimpleFlavorColumns)(this),isLoading:this.masterFlavorStore.list.isLoading,filterParams:[{label:t("Name"),name:"name"}],onChange:e=>{this.updateContext({masterFlavor:e})}},{type:"divider"},{name:"node_count",label:t("Number of Nodes"),type:"input-int",min:1,required:!0,onChange:e=>{this.updateContext({node_count:e})}},{name:"flavor",label:t("Flavor of Nodes"),type:"select-table",required:!0,tip:h.defaultTip,data:this.flavors,initValue:p,columns:(0,_.getBaseSimpleFlavorColumns)(this),isLoading:this.flavorStore.list.isLoading,filterParams:[{label:t("Name"),name:"name"}],onChange:e=>{this.updateContext({flavor:e})}}]}}a.StepNodeSpec=k;var S=(0,d.inject)("rootStore")((0,d.observer)(k));a.default=S},4263:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=a.StepNetworks=void 0;var i=n(r(67)),o=n(r(31)),s=n(r(52)),u=n(r(36)),d=n(r(0)),c=n(r(1243)),f=r(35),m=r(411),v=r(1409),p=r(233),h=r(417),g=r(1300),_=r(574),b=r(567),k=r(163);class S extends c.default{constructor(){super(...arguments),(0,u.default)(this,"allowed",(()=>i.default.resolve()))}init(){this.templateStore=new g.ClusterTemplatesStore,this.networkStore=new p.NetworkStore,this.subnetStore=new h.SubnetStore,this.getAllInitFunctions()}get title(){return t("Cluster Network")}get name(){return t("Cluster Network")}getAllInitFunctions(){var e=this;return(0,s.default)((function*(){yield(0,k.allSettled)([e.subnetStore.fetchList(),e.getTemplateDetail()]);var{fixed_network:t,fixed_subnet:a}=e.templateDetail;yield(0,k.allSettled)([t?e.networkStore.fetchDetail({id:t}):null,a?e.subnetStore.fetchDetail({id:a}):null]),e.updateDefaultValue()}))()}getTemplateDetail(){var{context:{clusterTemplate:e={}}={}}=this.props,{selectedRowKeys:t=[]}=e,a=t[0];if(a)return this.templateStore.fetchDetail({id:a})}get network(){return(0,f.toJS)(this.networkStore.detail)||{}}get subnet(){return(0,f.toJS)(this.subnetStore.detail)||{}}get subnetList(){var e,{context:{fixedNetwork:{selectedRowKeys:t=[]}={}}}=this.props,{fixed_network:a}=this.templateDetail,r=t[0]||a;return(0,o.default)(e=(0,f.toJS)(this.subnetStore.list.data||[])).call(e,(e=>r===e.network_id))}get templateDetail(){return(0,f.toJS)(this.templateStore.detail)||{}}get defaultValue(){var{context:{fixedNetwork:e,fixedSubnet:t}={}}=this.props,{fixed_network:a,fixed_subnet:r}=this.templateDetail;return{newNetwork:!0,fixedNetwork:e||{selectedRowKeys:a?[a]:[],selectedRows:a?[this.network]:[]},fixedSubnet:t||{selectedRowKeys:r?[r]:[],selectedRows:r?[this.subnet]:[]}}}get nameForStateUpdate(){return["newNetwork"]}get formItems(){var{newNetwork:e}=this.state,{context:{fixedNetwork:a,fixedSubnet:r}={}}=this.props,{fixed_network:l,fixed_subnet:n}=this.templateDetail,i=a||{selectedRowKeys:l?[l]:[],selectedRows:l?[this.network]:[]},o=r||{selectedRowKeys:n?[n]:[],selectedRows:n?[this.subnet]:[]};return[{name:"master_lb_enabled",label:t("Enable Load Balancer"),type:"check",content:t("Enabled Load Balancer for Master Nodes"),tip:v.defaultTip},{name:"newNetwork",label:t("Enabled Network"),type:"check",content:t("Create New Network")},{name:"fixedNetwork",label:t("Fixed Network"),type:"select-table",hidden:e,backendPageStore:this.networkStore,extraParams:{"router:external":!1,project_id:this.currentProjectId},loading:this.networkStore.list.isLoading,header:d.default.createElement("div",null,t(" You can go to the console to "),(0,b.getLinkRender)({key:"network",value:"".concat(t("create a new network/subnet")," > "),extra:{target:"_blank"}})),filterParams:[{label:t("Name"),name:"name"}],columns:(0,_.networkColumns)(this),onChange:e=>{this.updateContext({fixedNetwork:e,fixedSubnet:{selectedRowKeys:[],selectedRows:[]}})},initValue:i},{name:"fixedSubnet",label:t("Fixed Subnet"),type:"select-table",hidden:e,data:this.subnetList,filterParams:[{label:t("Name"),name:"name"}],columns:_.subnetColumns,onChange:e=>{this.updateContext({fixedSubnet:e})},initValue:o},{type:"divider"},{name:"floating_ip_enabled",label:t("Enable Floating IP"),type:"check",tip:v.defaultTip}]}}a.StepNetworks=S;var y=(0,m.inject)("rootStore")((0,m.observer)(S));a.default=y},4264:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=a.StepManagement=void 0;var i=n(r(1243)),o=r(411);class s extends i.default{get title(){return t("Cluster Management")}get name(){return t("Cluster Management")}get defaultValue(){return{create_timeout:60}}get formItems(){return[{name:"auto_healing_enabled",label:t("Auto Healing"),type:"check",content:t("Automatically repair unhealhty nodes")},{type:"divider"},{name:"auto_scaling_enabled",label:t("Auto Scaling"),type:"check",content:t("Auto scaling feature will be enabled")},{type:"divider"},{name:"create_timeout",label:t("Timeout(Minute)"),type:"input-int",min:1,tip:t("The timeout for cluster creation in minutes.")}]}}a.StepManagement=s;var u=(0,o.inject)("rootStore")((0,o.observer)(s));a.default=u},4265:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=a.StepLabel=void 0;var i=n(r(57)),o=n(r(34)),s=n(r(1243)),u=r(411),d=n(r(1258));class c extends s.default{get title(){return t("Labels")}get name(){return t("Labels")}get defaultValue(){var e,t={},{context:{clusterTemplate:a={}}={}}=this.props,{selectedRows:r=[]}=a,{labels:l={}}=r[0]||{};return t.additionalLabels=(0,i.default)(e=(0,o.default)(l||{})).call(e,(e=>({value:{key:e,value:l[e]}}))),t}get formItems(){return[{name:"additionalLabels",label:t("Additional Labels"),type:"add-select",itemComponent:d.default,addText:t("Add Label"),onChange:e=>{this.updateContext({additionalLabels:e})}}]}}a.StepLabel=c;var f=(0,u.inject)("rootStore")((0,u.observer)(c));a.default=f},4266:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=a.ClustersDetail=void 0;var i=r(411),o=n(r(1236)),s=r(1409),u=n(r(1330)),d=n(r(4267)),c=n(r(1666));class f extends o.default{init(){this.store=u.default}get name(){return t("Cluster Detail")}get listUrl(){return this.getRoutePath("containerInfraClusters")}get policy(){return"cluster:detail"}get actionConfigs(){return this.isAdminPage?c.default.actionConfigsAdmin:c.default.actionConfigs}get detailInfos(){return[{title:t("Name"),dataIndex:"name"},{title:t("Created At"),dataIndex:"created_at",valueRender:"toLocalTime"},{title:t("Updated At"),dataIndex:"updated_at",valueRender:"toLocalTime"},{title:t("Status"),dataIndex:"status",valueMap:s.clusterStatus},{title:t("Status Reason"),dataIndex:"status_reason"},{title:t("Health Status"),dataIndex:"health_status",render:e=>s.healthStatus[e]||e||"-"}]}get tabs(){return[{title:t("Detail"),key:"general_info",component:d.default}]}}a.ClustersDetail=f;var m=(0,i.inject)("rootStore")((0,i.observer)(f));a.default=m},4267:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=a.BaseDetail=void 0;var i=n(r(77)),o=n(r(57)),s=n(r(1280)),u=n(r(201)),d=n(r(1242)),c=r(411),f=n(r(0));class m extends d.default{get leftCards(){return[this.templateCard,this.networkCard,this.miscellaneousCard]}get rightCards(){return[this.nodesCard,this.labelCard,this.stackCard]}get templateCard(){var{template:e={}}=this.detailData,a=null!=e&&e.name?this.getLinkRender("containerInfraClusterTemplateDetail",e.name,{id:e.uuid}):"-",r=[{label:t("Name"),dataIndex:"template.name",content:a},{label:t("COE"),dataIndex:"template.coe"}];return{title:t("Cluster Template"),options:r,labelCol:6,contentCol:18}}get networkCard(){var e,a,{fixed_network:r,original_fixed_network:l,fixedNetwork:{name:n}={},fixed_subnet:o,original_fixed_subnet:s,fixedSubnet:{name:u}={}}=this.detailData||{},d=l?(0,i.default)(e="".concat(l," (")).call(e,t("The resource has been deleted"),")"):r?this.getLinkRender("networkDetail",n||r,{id:r}):"-",c=s?(0,i.default)(a="".concat(s," (")).call(a,t("The resource has been deleted"),")"):r&&o?this.getLinkRender("subnetDetail",u||o,{networkId:r,id:o}):"-",f=[{label:t("Fixed Network"),content:d},{label:t("Fixed Subnet"),content:c}];return{title:t("Network"),options:f}}get miscellaneousCard(){var e,{original_keypair:a,keypair:r}=this.detailData,l=a?(0,i.default)(e="".concat(a," (")).call(e,t("The resource has been deleted"),")"):r?this.getLinkRender("keypairDetail",r,{id:r}):"-",n=[{label:t("Discovery URL"),dataIndex:"discovery_url",render:e=>e?f.default.createElement("a",{href:e,target:"blank"},e):"-"},{label:t("Timeout(Minute)"),dataIndex:"create_timeout"},{label:t("Keypair"),content:l,hidden:this.isAdminPage},{label:t("Docker Volume Size (GiB)"),dataIndex:"docker_volume_size"},{label:t("COE Version"),dataIndex:"coe_version"},{label:t("Container Version"),dataIndex:"container_version"}];return{title:t("Miscellaneous"),options:n,labelCol:12,contentCol:12}}get nodesCard(){var e,a,{master_flavor_id:r,original_master_flavor_id:l,masterFlavor:{name:n}={},flavor_id:s,original_flavor_id:u,flavor:{name:d}={}}=this.detailData,c=l?(0,i.default)(e="".concat(l," (")).call(e,t("The resource has been deleted"),")"):r?this.getLinkRender("flavorDetail",n||r,{id:r}):"-",m=u?(0,i.default)(a="".concat(u," (")).call(a,t("The resource has been deleted"),")"):s?this.getLinkRender("flavorDetail",d||s,{id:s}):"-",v=[{label:t("Master Node Flavor"),content:c},{label:t("Number of Master Nodes"),dataIndex:"master_count"},{label:t("Node Flavor"),content:m},{label:t("Number of Nodes"),dataIndex:"node_count"},{label:t("API Address"),dataIndex:"api_address"},{label:t("Master Node Addresses"),dataIndex:"master_addresses",render:e=>e&&e.length?(0,o.default)(e).call(e,(e=>f.default.createElement("div",null,e))):"-"},{label:t("Node Addresses"),dataIndex:"node_addresses",render:e=>e&&e.length?(0,o.default)(e).call(e,(e=>f.default.createElement("div",null,e))):"-"}];return{title:t("Nodes"),labelCol:3,options:v}}get labelCard(){var e=[{label:t("Labels"),dataIndex:"labels",render:e=>{var t;return(0,u.default)(e)?"-":f.default.createElement("ul",null,(0,o.default)(t=(0,s.default)(e)).call(t,(e=>{var[t,a]=e;return f.default.createElement("li",{key:t},t," : ",a)})))}}];return{title:t("Additional Labels"),labelCol:2,options:e}}get stackCard(){var{stack:{id:e,stack_name:a}={}}=this.detailData||{},r=e?this.getLinkRender("stackDetail",e,{id:e,name:a}):"-",l=[{label:t("Stack ID"),dataIndex:"stack_id",content:r},{label:t("Stack Faults"),dataIndex:"faults",render:e=>{var t;return(0,u.default)(e)?"-":f.default.createElement("ul",null,(0,o.default)(t=(0,s.default)(e)).call(t,(e=>{var[t,a]=e;return f.default.createElement("li",{key:t},t," : ",a)})))}}];return{title:t("Stack"),labelCol:2,options:l}}get healthCard(){var e,{health_status_reason:a={}}=this.detailData||{},r=(0,u.default)(a)?"-":f.default.createElement("ul",null,(0,o.default)(e=(0,s.default)(a)).call(e,(e=>{var[t,a]=e;return f.default.createElement("li",{key:t},t," : ",a)}))),l=[{label:t("Log"),content:r}];return{title:t("Health Checking Log"),labelCol:2,options:l}}}a.BaseDetail=m;var v=(0,c.inject)("rootStore")((0,c.observer)(m));a.default=v},4268:function(e,a,r){"use strict";var l=r(34),n=r(44),i=r(31),o=r(26),s=r(28),u=r(45),d=r(46),c=r(20),f=r(21);c(a,"__esModule",{value:!0}),a.default=a.ClusterTemplates=void 0;var m=f(r(36)),v=f(r(1235)),p=r(411),h=r(1300),g=r(4269),_=r(1410),b=f(r(1667));function k(e,t){var a=l(e);if(n){var r=n(e);t&&(r=i(r).call(r,(function(t){return o(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a,r=null!=arguments[t]?arguments[t]:{};if(t%2)s(a=k(Object(r),!0)).call(a,(function(t){(0,m.default)(e,t,r[t])}));else if(u)d(e,u(r));else{var l;s(l=k(Object(r))).call(l,(function(t){c(e,t,o(r,t))}))}}return e}class y extends v.default{constructor(){super(...arguments),(0,m.default)(this,"updateFetchParams",(e=>S(S({},e),{},{shouldFetchProject:this.isAdminPage})))}init(){this.isAdminPage?this.store=new g.ClusterTemplatesAdminStore:this.store=new h.ClusterTemplatesStore}get name(){return t("clustertemplates")}get policy(){return"clustertemplate:get_all"}get fetchDataByAllProjects(){return!1}get actionConfigs(){return this.isAdminPage?b.default.actionConfigsAdmin:b.default.actionConfigs}getColumns(){return(0,_.getBaseTemplateColumns)(this)}get searchFilters(){return[{label:t("Name"),name:"name"}]}}a.ClusterTemplates=y;var w=(0,p.inject)("rootStore")((0,p.observer)(y));a.default=w},4269:function(e,t,a){"use strict";a(20)(t,"__esModule",{value:!0}),t.default=t.ClusterTemplatesAdminStore=void 0;var r=a(1300);class l extends r.ClusterTemplatesStore{get listWithDetail(){return!1}}t.ClusterTemplatesAdminStore=l;var n=new l;t.default=n},4270:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=a.StepInfo=void 0;var i=n(r(1243)),o=r(411);class s extends i.default{get title(){return t("Info")}get name(){return t("Info")}get isEdit(){return!!this.props.extra}get isStep(){return!0}get defaultValue(){var e={};if(this.isEdit){var{extra:{name:t,coe:a,public:r,hidden:l,registry_enabled:n,tls_disabled:i}={}}=this.props;e={name:t,coe:a,public:r,hidden:l,registry_enabled:n,tls_disabled:i}}return e}get formItems(){return[{name:"name",label:t("Cluster Template Name"),type:"input",placeholder:t("Please input cluster template name"),required:!0},{name:"coe",label:t("COE"),type:"select",options:[{label:t("Kubernetes"),value:"kubernetes"},{label:t("Docker Swarm"),value:"swarm"},{label:t("Docker Swarm Mode"),value:"swarm-mode"},{label:t("Mesos"),value:"mesos"},{label:t("DC/OS"),value:"dcos"}],required:!0},{name:"public",label:t("Public"),type:"check"},{name:"hidden",label:t("Hidden"),type:"check"},{name:"registry_enabled",label:t("Enable Registry"),type:"check"},{name:"tls_disabled",label:t("Disable TLS"),type:"check"}]}}a.StepInfo=s;var u=(0,o.inject)("rootStore")((0,o.observer)(s));a.default=u},4271:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=a.StepNodeSpec=void 0;var i=n(r(164)),o=n(r(31)),s=n(r(67)),u=n(r(52)),d=r(411),c=r(35),f=n(r(1243)),m=r(575),v=n(r(423)),p=r(1251),h=r(573),g=r(1448),_=r(1410),b=r(163);class k extends f.default{init(){this.imageStore=new m.ImageStore,this.keyPairStore=v.default,this.flavorStore=new p.FlavorStore,this.masterFlavorStore=new p.FlavorStore,this.getAllInitFunctions()}get title(){return t("Node Spec")}get name(){return t("Node Spec")}get isStep(){return!0}get isEdit(){return!!this.props.extra}getAllInitFunctions(){var e=this;return(0,u.default)((function*(){yield(0,b.allSettled)([e.getImageList(),e.getKeypairs(),e.getFlavors(),e.getMasterFlavors()]),e.updateDefaultValue()}))()}getImageList(){return this.imageStore.fetchList({all_projects:this.hasAdminRole})}getKeypairs(){return this.keyPairStore.fetchList()}get keypairs(){return this.keyPairStore.list.data||[]}getFlavors(){return this.flavorStore.fetchList()}getMasterFlavors(){return this.masterFlavorStore.fetchList()}get flavors(){return(0,c.toJS)(this.flavorStore.list.data)||[]}get masterFlavors(){return(0,c.toJS)(this.masterFlavorStore.list.data)||[]}get acceptedImageOs(){var e,{context:{coe:t=""}={}}=this.props;return"kubernetes"===t?["fedora-coreos"]:(0,i.default)(e=["swarm","swarm-mode"]).call(e,t)?["fedora-atomic"]:["ubuntu"]}get imageColumns(){return(0,h.getImageColumns)(this)}get imageList(){var e;return(0,o.default)(e=this.imageStore.list.data||[]).call(e,(e=>{var t,{originData:{os_distro:a}={}}=e;return(0,i.default)(t=this.acceptedImageOs).call(t,a)}))}get volumeDrivers(){var e,{context:{coe:t=""}={}}=this.props,a=[];return"kubernetes"===t?a=[{value:"cinder",label:"Cinder"}]:(0,i.default)(e=["swarm","mesos"]).call(e,t)&&(a=[{value:"rexray",label:"Rexray"}]),a}get defaultValue(){var e={};if(this.isEdit){var t,a,{extra:{image_id:r,keypair_id:l,flavor_id:n,master_flavor_id:i,volume_driver:s,docker_storage_driver:u,docker_volume_size:d}={}}=this.props;if(e={volume_driver:s,docker_storage_driver:u,docker_volume_size:d},n)e.flavor={selectedRowKeys:[n],selectedRows:(0,o.default)(t=this.flavors).call(t,(e=>e.id===n))};if(i)e.masterFlavor={selectedRowKeys:[i],selectedRows:(0,o.default)(a=this.masterFlavors).call(a,(e=>e.id===i))};r&&(e.images={selectedRowKeys:[r]}),l&&(e.keypair={selectedRowKeys:[l]})}return e}get minVolumeSize(){var{docker_storage_driver:e}=this.state;return"devicemapper"===e?3:1}get nameForStateUpdate(){return["docker_storage_driver"]}get formItems(){var{initKeyPair:e}=this.state;return[{name:"images",label:t("Image"),type:"select-table",data:this.imageList,required:!0,isLoading:this.imageStore.list.isLoading,filterParams:[{label:t("Name"),name:"name"}],columns:this.imageColumns},{name:"keypair",label:t("Keypair"),type:"select-table",data:this.keypairs,initValue:e,isLoading:this.keyPairStore.list.isLoading,header:(0,g.getKeyPairHeader)(this),tip:t("The SSH key is a way to remotely log in to the cluster instance. The cloud platform only helps to keep the public key. Please keep your private key properly."),filterParams:[{label:t("Name"),name:"name"}],columns:[{title:t("Name"),dataIndex:"name"},{title:t("Fingerprint"),dataIndex:"fingerprint"}]},{name:"flavor",label:t("Flavor of Nodes"),type:"select-table",data:this.flavors,columns:(0,_.getBaseSimpleFlavorColumns)(this),isLoading:this.flavorStore.list.isLoading,filterParams:[{label:t("Name"),name:"name"}]},{name:"masterFlavor",label:t("Flavor of Master Nodes"),type:"select-table",data:this.masterFlavors,columns:(0,_.getBaseSimpleFlavorColumns)(this),isLoading:this.masterFlavorStore.list.isLoading,filterParams:[{label:t("Name"),name:"name"}]},{name:"volume_driver",label:t("Volume Driver"),type:"select",options:this.volumeDrivers},{name:"docker_storage_driver",label:t("Docker Storage Driver"),type:"select",options:[{label:t("Devicemapper"),value:"devicemapper"},{label:t("Overlay"),value:"overlay"},{label:t("Overlay2"),value:"overlay2"}],onChange:()=>{this.resetFormValue(["docker_volume_size"])}},{name:"docker_volume_size",label:t("Docker Volume Size (GiB)"),type:"input-int",min:this.minVolumeSize,required:3===this.minVolumeSize,placeholder:t("Spec"),validator:(e,a)=>3===this.minVolumeSize&&(!a||a<this.minVolumeSize)?s.default.reject(new Error(t("The min size is {size} GiB",{size:this.minVolumeSize}))):s.default.resolve()}]}}a.StepNodeSpec=k;var S=(0,d.inject)("rootStore")((0,d.observer)(k));a.default=S},4272:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=a.StepNetwork=void 0;var i=n(r(31)),o=n(r(164)),s=n(r(52)),u=n(r(0)),d=n(r(1243)),c=r(411),f=r(233),m=r(417),v=r(567),p=r(574);class h extends d.default{init(){var e=this;return(0,s.default)((function*(){e.externalNetworkStore=new f.NetworkStore,e.privateNetworkStore=new f.NetworkStore,e.subnetNetworkStore=new m.SubnetStore,e.getSubnetList()}))()}get title(){return t("Network")}get name(){return t("Network")}get isStep(){return!0}get isEdit(){return!!this.props.extra}getSubnetList(){var e=this;return(0,s.default)((function*(){yield e.subnetNetworkStore.fetchList(),e.updateDefaultValue()}))()}get subnetList(){var e,t,a,r=(null===(e=this.props.context)||void 0===e||null===(t=e.fixedNetwork)||void 0===t?void 0:t.selectedRowKeys)||[];return(0,i.default)(a=this.subnetNetworkStore.list.data||[]).call(a,(e=>r[0]===e.network_id))}get networkDrivers(){var e,t,{context:{coe:a=""}={}}=this.props,r=[];return"kubernetes"===a?r=[{value:"calico",label:"Calico"},{value:"flannel",label:"Flannel"}]:(0,o.default)(e=["swarm","swarm-mode"]).call(e,a)?r=[{value:"docker",label:"Docker"},{value:"flannel",label:"Flannel"}]:(0,o.default)(t=["mesos","dcos"]).call(t,a)&&(r=[{value:"docker",label:"Docker"}]),r}get defaultValue(){var e={};if(this.isEdit){var{extra:{network_driver:t,http_proxy:a,https_proxy:r,no_proxy:l,external_network_id:n,externalNetwork:i,fixed_network:o,fixedNetwork:s,fixed_subnet:u,fixedSubnet:d,dns_nameserver:c,master_lb_enabled:f,floating_ip_enabled:m}={},context:{fixedNetwork:v,fixedSubnet:p}}=this.props;e={network_driver:t,http_proxy:a,https_proxy:r,no_proxy:l,dns_nameserver:c,master_lb_enabled:f,floating_ip_enabled:m},n&&(e.externalNetwork={selectedRowKeys:[n],selectedRows:[i]}),o&&(e.fixedNetwork=v||{selectedRowKeys:[o],selectedRows:[s]}),u&&(e.fixedSubnet=p||{selectedRowKeys:[u],selectedRows:[d]})}return e}get formItems(){var{extra:{network_driver:e,fixed_subnet:a,fixedSubnet:r}={},context:{fixedSubnet:l}}=this.props,n=l||{selectedRowKeys:a?[a]:[],selectedRows:r?[r]:[]};return[{name:"network_driver",label:t("Network Driver"),placeholder:t("Choose a Network Driver"),type:"select",options:this.networkDrivers,disabled:e&&this.isEdit},{name:"http_proxy",label:t("HTTP Proxy"),placeholder:t("The http_proxy address to use for nodes in cluster"),type:"input"},{name:"https_proxy",label:t("HTTPS Proxy"),placeholder:t("The https_proxy address to use for nodes in cluster"),type:"input"},{name:"no_proxy",label:t("No Proxy"),placeholder:t("The no_proxy address to use for nodes in cluster"),type:"input"},{name:"externalNetwork",label:t("External Network"),type:"select-table",backendPageStore:this.externalNetworkStore,extraParams:{"router:external":!0},required:!0,loading:this.externalNetworkStore.list.isLoading,filterParams:[{label:t("Name"),name:"name"}],columns:(0,p.networkColumns)(this)},{name:"fixedNetwork",label:t("Fixed Network"),type:"select-table",backendPageStore:this.privateNetworkStore,extraParams:{"router:external":!1,project_id:this.currentProjectId},loading:this.privateNetworkStore.list.isLoading,header:u.default.createElement("div",null,t(" You can go to the console to "),(0,v.getLinkRender)({key:"network",value:"".concat(t("create a new network/subnet")," > ")})),filterParams:[{label:t("Name"),name:"name"}],columns:(0,p.networkColumns)(this),onChange:e=>{this.updateContext({fixedNetwork:e,fixedSubnet:{selectedRowKeys:[],selectedRows:[]}})}},{name:"fixedSubnet",label:t("Fixed Subnet"),type:"select-table",data:this.subnetList,filterParams:[{label:t("Name"),name:"name"}],columns:p.subnetColumns,initValue:n,onChange:e=>{this.updateContext({fixedSubnet:e})}},{name:"dns_nameserver",label:t("DNS"),placeholder:t("The DNS nameserver to use for this cluster template"),type:"input"},{name:"master_lb_enabled",label:t("Enable Load Balancer"),type:"check",content:t("Enabled Load Balancer for Master Nodes")},{name:"floating_ip_enabled",label:t("Enable Floating IP"),type:"check",tip:t("Whether enable or not using the floating IP of cloud provider.")}]}}a.StepNetwork=h;var g=(0,c.inject)("rootStore")((0,c.observer)(h));a.default=g},4273:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=a.StepLabel=void 0;var i=n(r(57)),o=n(r(34)),s=n(r(1243)),u=r(411),d=n(r(1258));class c extends s.default{get title(){return t("Labels")}get name(){return t("Labels")}get isStep(){return!0}get isEdit(){return!!this.props.extra}get defaultValue(){var e={};if(this.isEdit){var t,{extra:{labels:a}}=this.props;e.additionalLabels=(0,i.default)(t=(0,o.default)(a||{})).call(t,(e=>({value:{key:e,value:a[e]}})))}return e}get formItems(){return[{name:"additionalLabels",label:t("Additional Labels"),type:"add-select",itemComponent:d.default,addText:t("Add Label")}]}}a.StepLabel=c;var f=(0,u.inject)("rootStore")((0,u.observer)(c));a.default=f},4274:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=void 0;var i=n(r(36)),o=r(1234),s=n(r(1300));class u extends o.ConfirmAction{constructor(){super(...arguments),(0,i.default)(this,"policy","clustertemplate:delete"),(0,i.default)(this,"allowedCheckFunc",(()=>!0)),(0,i.default)(this,"onSubmit",(e=>s.default.delete({id:e.uuid})))}get id(){return"delete"}get title(){return t("Delete Cluster Template")}get actionName(){return t("Delete Cluster Template")}get isDanger(){return!0}get buttonText(){return t("Delete")}}a.default=u},4275:function(e,t,a){"use strict";var r=a(20),l=a(21);r(t,"__esModule",{value:!0}),t.default=t.CreateCluster=void 0;var n=a(411),i=l(a(1470));class o extends i.default{static path(e){return"/container-infra/clusters/create?template=".concat(e.id)}}t.CreateCluster=o;var s=(0,n.inject)("rootStore")((0,n.observer)(o));t.default=s},4276:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=a.ClusterTemplateDetail=void 0;var i=r(411),o=n(r(1236)),s=n(r(1300)),u=n(r(4277)),d=n(r(1667));class c extends o.default{init(){this.store=s.default}get name(){return t("Cluster Template Detail")}get listUrl(){return this.getRoutePath("clusterTemplate")}get policy(){return"clustertemplate:detail"}get actionConfigs(){return this.isAdminPage?d.default.actionConfigsAdmin:d.default.actionConfigs}get detailInfos(){return[{title:t("Name"),dataIndex:"name"},{title:t("Created At"),dataIndex:"created_at",valueRender:"toLocalTime"},{title:t("Updated At"),dataIndex:"updated_at",valueRender:"toLocalTime"},{title:t("Project ID"),dataIndex:"project_id",hidden:!this.isAdminPage}]}get tabs(){return[{title:t("Detail"),key:"general_info",component:u.default}]}}a.ClusterTemplateDetail=c;var f=(0,i.inject)("rootStore")((0,i.observer)(c));a.default=f},4277:function(e,a,r){"use strict";var l=r(20),n=r(21);l(a,"__esModule",{value:!0}),a.default=a.BaseDetail=void 0;var i=n(r(77)),o=n(r(57)),s=n(r(1280)),u=n(r(201)),d=n(r(0)),c=n(r(1242)),f=r(411);class m extends c.default{get leftCards(){return[this.baseInfoCard,this.networkCard]}get leftCardsStyle(){return{flex:1}}get rightCards(){return[this.specCard,this.labelCard]}get baseInfoCard(){var e=[{label:t("COE"),dataIndex:"coe"},{label:t("Cluster Distro"),dataIndex:"cluster_distro"},{label:t("Server Type"),dataIndex:"server_type"},{label:t("Public"),dataIndex:"public",valueRender:"yesNo"},{label:t("Registry Enabled"),dataIndex:"registry_enabled",valueRender:"yesNo"},{label:t("TLS Disabled"),dataIndex:"tls_disabled",valueRender:"yesNo"}];return{title:t("Cluster Type"),options:e}}get networkCard(){var e,a,r,{external_network_id:l,original_external_network_id:n,externalNetwork:{name:o}={},fixed_network:s,original_fixed_network:u,fixedNetwork:{name:d}={},fixed_subnet:c,original_fixed_subnet:f,fixedSubnet:{name:m}={}}=this.detailData||{},v=n?(0,i.default)(e="".concat(n," (")).call(e,t("The resource has been deleted"),")"):l?this.getLinkRender("networkDetail",o||l,{id:l}):"-",p=u?(0,i.default)(a="".concat(u," (")).call(a,t("The resource has been deleted"),")"):s?this.getLinkRender("networkDetail",d||s,{id:s}):"-",h=f?(0,i.default)(r="".concat(f," (")).call(r,t("The resource has been deleted"),")"):s&&c?this.getLinkRender("subnetDetail",m||c,{networkId:s,id:c}):"-",g=[{label:t("Network Driver"),dataIndex:"network_driver"},{label:t("HTTP Proxy"),dataIndex:"http_proxy"},{label:t("HTTPS Proxy"),dataIndex:"https_proxy"},{label:t("No Proxy"),dataIndex:"no_proxy"},{label:t("External Network"),content:v},{label:t("Fixed Network"),content:p},{label:t("Fixed Subnet"),content:h},{label:t("DNS"),dataIndex:"dns_nameserver"},{label:t("Master Node LB Enabled"),dataIndex:"master_lb_enabled",valueRender:"yesNo"},{label:t("Floating IP Enabled"),dataIndex:"floating_ip_enabled",valueRender:"yesNo"}];return{title:t("Network"),options:g}}get specCard(){var e,a,r,l,{image_id:n,original_image_id:o,image:{name:s}={},keypair_id:u,original_keypair_id:d,flavor_id:c,original_flavor_id:f,flavor:{name:m}={},master_flavor_id:v,original_master_flavor_id:p,masterFlavor:{name:h}={}}=this.detailData,g=o?(0,i.default)(e="".concat(o," (")).call(e,t("The resource has been deleted"),")"):n?this.getLinkRender("imageDetail",s||n,{id:n}):"-",_=d?(0,i.default)(a="".concat(d," (")).call(a,t("The resource has been deleted"),")"):u?this.getLinkRender("keypairDetail",u,{id:u}):"-",b=f?(0,i.default)(r="".concat(f," (")).call(r,t("The resource has been deleted"),")"):c?this.getLinkRender("flavorDetail",m||c,{id:c}):"-",k=p?(0,i.default)(l="".concat(p," (")).call(l,t("The resource has been deleted"),")"):v?this.getLinkRender("flavorDetail",h||v,{id:v}):"-",S=[{label:t("Image"),content:g},{label:t("Keypair"),content:_,hidden:this.isAdminPage},{label:t("Node Flavor"),content:b},{label:t("Master Node Flavor"),content:k},{label:t("Volume Driver"),dataIndex:"volume_driver"},{label:t("Docker Storage Driver"),dataIndex:"docker_storage_driver"},{label:t("Docker Volume Size (GiB)"),dataIndex:"docker_volume_size"},{label:t("Insecure Registry"),dataIndex:"insecure_registry"}];return{title:t("Node Spec"),options:S}}get labelCard(){var e=[{label:t("labels"),dataIndex:"labels",render:e=>{var t;return(0,u.default)(e)?"-":d.default.createElement("ul",null,(0,o.default)(t=(0,s.default)(e)).call(t,(e=>{var[t,a]=e;return d.default.createElement("li",{key:t},t," : ",a)})))}}];return{title:t("Additional Labels"),labelCol:2,options:e}}}a.BaseDetail=m;var v=(0,f.inject)("rootStore")((0,f.observer)(m));a.default=v}}]);